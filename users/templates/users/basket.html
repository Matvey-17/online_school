{% extends 'main/base.html' %}
{% load static %}


{% block css %}
<link rel="stylesheet" href="{% static 'school/css/index.css' %}">
{% endblock %}

{% block main %}
<div class="container">
    <div class="row">
        <div class="col-md-8">
            {% if baskets %}
            {% for basket in baskets %}
            <div class="card border-0 shadow-sm mt-4" style="border-radius: .85rem;">
                <div class="card-body">
                    <div class="card col-md-3 col-12"
                         style="border-radius: .85rem; margin-left: -10px; width: 20%; background-color: #c8f288;">
                        <span style="font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ basket.theme.name_items.name }}</span>
                    </div>
                    <div class="row">
                        <div class="col-md-2 mt-4 col-6">
                            <img src="{{ basket.theme.photo.url }}" class="img-fluid" alt="{{ basket.theme.name }}">
                        </div>
                        <div class="col-md-5 text-center mt-5 mr-5 col-6">
                            <h4><a href="{% url 'courses:matanaliz_tema' basket.theme.name %}"
                                   style="text-decoration:none; color: black;">{{ basket.theme.name }}</a></h4>
                        </div>
                        <div class="col-md-3 text-end mt-5 col-4">
                            <h4>{{ basket.sum }} ₽</h4>
                            <a href="{% url 'courses:basket_remove' basket.id %}">
                                <img src="{% static 'school/img/delete-icon.png' %}"
                                     style="width: 30x; height: 30px; margin-top: 30px;">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
            <div class="mt-3 ml-1">
                <a href="{% url 'courses:index' %}" class="btn btn-primary"
                   style="border-radius: .5rem; background-color: #b2ccff; color: blue;">Выбрать ещё</a>
            </div>
            {% else %}
            <div class="d-flex justify-content-center mt-3">
                <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.5157 37.9947C14.0445 37.9947 13.6625 38.3755 13.6625 38.8451C13.6625 39.3148 14.0445 39.6955 14.5157 39.6955H18.3088C18.5552 39.6955 18.7666 39.8704 18.812 40.1117L21.8088 56.0456C22.066 57.4132 23.2641 58.4042 24.6601 58.4042H37.9127C39.2093 58.4042 40.3484 57.5467 40.7031 56.3037L43.6045 46.1344C44.1313 44.2882 42.74 42.4522 40.8142 42.4522H39.9285C39.4573 42.4522 39.0753 42.833 39.0753 43.3026C39.0753 43.7723 39.4573 44.153 39.9285 44.153H40.8142C41.6072 44.153 42.18 44.909 41.9632 45.6692L39.0617 55.8385C38.9157 56.3503 38.4466 56.7034 37.9127 56.7034H24.6601C24.0853 56.7034 23.592 56.2954 23.4861 55.7322L21.3016 44.1176H29.7031C30.1744 44.1176 30.5564 43.7368 30.5564 43.2672C30.5564 42.7975 30.1744 42.4168 29.7031 42.4168H20.9817L20.4893 39.7984C20.2926 38.7526 19.3764 37.9947 18.3088 37.9947H14.5157Z"
                          fill="#AFADB8"/>
                    <path d="M32.6852 40.1046L34.6519 41.9994L36.6185 40.1046C36.9573 39.7781 37.4975 39.7873 37.825 40.125C38.1525 40.4626 38.1434 41.001 37.8046 41.3274L35.8795 43.1821L37.8046 45.0369C38.1434 45.3633 38.1525 45.9017 37.825 46.2393C37.4975 46.577 36.9573 46.5861 36.6185 46.2597L34.6519 44.3649L32.6852 46.2597C32.3464 46.5861 31.8062 46.577 31.4787 46.2393C31.1512 45.9017 31.1604 45.3633 31.4992 45.0369L33.4242 43.1821L31.4992 41.3274C31.1604 41.001 31.1512 40.4626 31.4787 40.125C31.8062 39.7873 32.3464 39.7781 32.6852 40.1046Z"
                          fill="#AFADB8"/>
                    <path d="M26.1196 59.4247C25.1771 59.4247 24.4131 60.1862 24.4131 61.1255C24.4131 62.0648 25.1771 62.8263 26.1196 62.8263C27.062 62.8263 27.826 62.0648 27.826 61.1255C27.826 60.1862 27.062 59.4247 26.1196 59.4247Z"
                          fill="#AFADB8"/>
                    <path d="M36.8702 59.4247C35.9278 59.4247 35.1638 60.1862 35.1638 61.1255C35.1638 62.0648 35.9278 62.8263 36.8702 62.8263C37.8127 62.8263 38.5767 62.0648 38.5767 61.1255C38.5767 60.1862 37.8127 59.4247 36.8702 59.4247Z"
                          fill="#AFADB8"/>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M15.0276 17.4152C13.4255 17.4152 12.1267 18.7097 12.1267 20.3065C12.1267 21.9033 13.4255 23.1978 15.0276 23.1978C16.6298 23.1978 17.9286 21.9033 17.9286 20.3065C17.9286 18.7097 16.6298 17.4152 15.0276 17.4152ZM13.8331 20.3065C13.8331 19.649 14.3679 19.1159 15.0276 19.1159C15.6874 19.1159 16.2222 19.649 16.2222 20.3065C16.2222 20.964 15.6874 21.4971 15.0276 21.4971C14.3679 21.4971 13.8331 20.964 13.8331 20.3065Z"
                          fill="#AFADB8"/>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M22.536 17.4152C20.9339 17.4152 19.6351 18.7097 19.6351 20.3065C19.6351 21.9033 20.9339 23.1978 22.536 23.1978C24.1382 23.1978 25.437 21.9033 25.437 20.3065C25.437 18.7097 24.1382 17.4152 22.536 17.4152ZM21.3415 20.3065C21.3415 19.649 21.8763 19.1159 22.536 19.1159C23.1958 19.1159 23.7306 19.649 23.7306 20.3065C23.7306 20.964 23.1958 21.4971 22.536 21.4971C21.8763 21.4971 21.3415 20.964 21.3415 20.3065Z"
                          fill="#AFADB8"/>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M30.0444 17.4152C28.4423 17.4152 27.1435 18.7097 27.1435 20.3065C27.1435 21.9033 28.4423 23.1978 30.0444 23.1978C31.6466 23.1978 32.9454 21.9033 32.9454 20.3065C32.9454 18.7097 31.6466 17.4152 30.0444 17.4152ZM28.8499 20.3065C28.8499 19.649 29.3847 19.1159 30.0444 19.1159C30.7041 19.1159 31.239 19.649 31.239 20.3065C31.239 20.964 30.7041 21.4971 30.0444 21.4971C29.3847 21.4971 28.8499 20.964 28.8499 20.3065Z"
                          fill="#AFADB8"/>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M38.918 17.4152C37.3158 17.4152 36.017 18.7097 36.017 20.3065C36.017 21.9033 37.3158 23.1978 38.918 23.1978H83.6271C85.2292 23.1978 86.5281 21.9033 86.5281 20.3065C86.5281 18.7097 85.2292 17.4152 83.6271 17.4152H38.918ZM37.7235 20.3065C37.7235 19.649 38.2583 19.1159 38.918 19.1159H83.6271C84.2868 19.1159 84.8216 19.649 84.8216 20.3065C84.8216 20.964 84.2868 21.4971 83.6271 21.4971H38.918C38.2583 21.4971 37.7235 20.964 37.7235 20.3065Z"
                          fill="#AFADB8"/>
                    <path d="M67.0796 41.3963C64.3178 41.3963 62.1258 43.3267 62.1258 46.1235C62.1258 46.5931 62.5078 46.9739 62.979 46.9739C63.4502 46.9739 63.8322 46.5931 63.8322 46.1235C63.8322 44.3666 65.1561 43.0971 67.0796 43.0971C68.0222 43.0971 68.7268 43.4448 69.2021 43.9648C69.6863 44.4944 69.9754 45.2514 69.9754 46.1235C69.9754 46.8782 69.798 47.4261 69.5125 47.8969C69.2232 48.374 68.82 48.7776 68.3511 49.2437L68.3474 49.2475C67.3932 50.196 66.2263 51.3561 66.2263 53.642C66.2263 54.1117 66.6083 54.4924 67.0796 54.4924C67.5508 54.4924 67.9328 54.1117 67.9328 53.642C67.9328 52.8585 68.1129 52.2893 68.3998 51.8057C68.6902 51.3163 69.0929 50.9085 69.5567 50.4474L69.6004 50.404C70.5371 49.4732 71.6819 48.3356 71.6819 46.1235C71.6819 44.881 71.2682 43.6995 70.4635 42.8193C69.6501 41.9296 68.4801 41.3963 67.0796 41.3963Z"
                          fill="#AFADB8"/>
                    <path d="M67.0745 56.1932C66.4148 56.1932 65.88 56.7262 65.88 57.3838C65.88 58.0413 66.4148 58.5743 67.0745 58.5743C67.7342 58.5743 68.269 58.0413 68.269 57.3838C68.269 56.7262 67.7342 56.1932 67.0745 56.1932Z"
                          fill="#AFADB8"/>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                          d="M83.0089 13.3333H15.6458C13.7696 13.3332 12.2747 13.3332 11.1027 13.4903C9.89284 13.6524 8.90021 13.9957 8.11546 14.7779C7.33072 15.56 6.98622 16.5494 6.82357 17.7552C6.66599 18.9233 6.666 20.4132 6.66602 22.2832V66.6323C6.666 68.5022 6.66599 69.9921 6.82357 71.1603C6.98622 72.3661 7.33072 73.3554 8.11546 74.1376C8.90021 74.9197 9.89284 75.2631 11.1027 75.4252C12.2748 75.5822 13.7698 75.5822 15.6461 75.5822H74.5905L82.2394 88.7137C83.9104 91.5823 87.6177 92.5265 90.4645 90.8084C93.2732 89.1133 94.1726 85.4706 92.4739 82.6701L88.1049 75.4669C90.1748 75.0138 91.7529 73.2788 91.9649 71.1334C91.9888 70.8918 91.9887 70.6167 91.9887 70.1945V22.2835C91.9887 20.4134 91.9887 18.9234 91.8312 17.7552C91.6685 16.5494 91.324 15.56 90.5393 14.7779C89.7545 13.9957 88.7619 13.6524 87.5521 13.4903C86.38 13.3332 84.8851 13.3332 83.0089 13.3333ZM73.3232 73.4065L73.5999 73.8814H15.7102C13.7554 73.8814 12.3752 73.8796 11.33 73.7396C10.3095 73.6028 9.73696 73.3484 9.32211 72.9349C8.90726 72.5215 8.65202 71.9509 8.5148 70.9337C8.37428 69.892 8.37247 68.5164 8.37247 66.568V27.2797H90.2822V70.1397C90.2822 70.634 90.2812 70.8192 90.2666 70.9667C90.115 72.5009 88.8971 73.7148 87.3578 73.8659C87.2978 73.8718 87.2316 73.8754 87.141 73.8777L83.2506 67.4636C82.6163 66.4179 81.2513 66.0833 80.2028 66.7163L79.8896 66.9054L77.2307 62.741C80.8239 59.7932 83.1151 55.326 83.1151 50.3255C83.1151 41.4489 75.8953 34.253 66.9892 34.253C58.083 34.253 50.8632 41.4489 50.8632 50.3255C50.8632 59.2021 58.083 66.3979 66.9892 66.3979C68.5107 66.3979 69.9831 66.1879 71.3786 65.7954L74.2929 70.2843L74.0924 70.4053C73.0583 71.0296 72.7162 72.3644 73.3232 73.4065ZM90.2822 25.5789H8.37247V22.3474C8.37247 20.3991 8.37428 19.0235 8.5148 17.9818C8.65202 16.9646 8.90726 16.394 9.32211 15.9805C9.73696 15.5671 10.3095 15.3127 11.33 15.1759C12.3752 15.0359 13.7554 15.034 15.7102 15.034H82.9445C84.8993 15.034 86.2795 15.0359 87.3247 15.1759C88.3453 15.3127 88.9178 15.5671 89.3326 15.9805C89.7475 16.394 90.0027 16.9646 90.1399 17.9818C90.2804 19.0235 90.2822 20.3991 90.2822 22.3474V25.5789ZM75.8544 63.7534L78.4297 67.7868L75.7531 69.4027L73.0423 65.2273C74.0324 64.8274 74.9736 64.3323 75.8544 63.7534ZM52.5696 50.3255C52.5696 42.3882 59.0255 35.9538 66.9892 35.9538C74.9528 35.9538 81.4087 42.3882 81.4087 50.3255C81.4087 58.2627 74.9528 64.6972 66.9892 64.6972C59.0255 64.6972 52.5696 58.2627 52.5696 50.3255ZM81.0869 68.171C81.3289 68.0249 81.6439 68.1022 81.7902 68.3435L91.0136 83.5499C92.2249 85.5471 91.5836 88.1447 89.5807 89.3535C87.5505 90.5787 84.9068 89.9054 83.7152 87.8597L74.799 72.5526C74.6589 72.3121 74.7379 72.0041 74.9765 71.86L81.0869 68.171Z"
                          fill="#AFADB8"/>
                </svg>
            </div>
            <h4 class="text-center mt-4">В корзине пока пусто</h4>
            <div class="d-flex justify-content-center mt-3">
                <a href="{% url 'courses:index' %}" class="btn btn-primary"
                   style="border-radius: .5rem; background-color: #b2ccff; color: blue;">Перейти в каталог</a>
            </div>
            {% endif %}
        </div>
        <div class="col-md-4">
            <div class="card mt-4" style="border-radius: 20px;">
                <div class="card-body">
                    <div class="row">
                        <div class="col-6">
                            <h4>К оплате</h4>
                        </div>
                        <div class="col-6 text-end">
                            <h4>{{ total_sum }} ₽</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <p>Сумма заказа</p>
                        </div>
                        <div class="col-5 text-end">
                            <p>{{ total_sum }} ₽</p>
                        </div>
                    </div>
                    <div class="col-11 text-center mt-3">
                        <a href="{% url 'auth:payment' total_sum %}" class="btn" style="border-radius: .5rem;">Перейти к оплате</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
